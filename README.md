# Naro_web
「小説家になろう」類似検索サイトを作るために使ったソースコード

## get_all_title.py
「小説家になろう」APIからデータを取得し、MySQLへ保存するためのコード<br>
取得可能な全データを取得するため、データベース構築初回時のみ、実行する。

## update_narou_db.py
前回取得日から実行時までに投稿された小説に関するデータを取得する。 <br>
データベースのアップデートをする際のコード

## send_data.py
類似性計算のために必要なデータをCSV化するコード<br>
MySQLにアクセス可能なサーバー上では、類似性計算を可能にするだけのリソースが存在しない。<br>
そのため、MySQLにアクセスはできないが、類似性計算を行うだけのリソースがあるサーバー上で、計算を行う必要がある。<br>
そこで、そのサーバーに必要なデータをCSV化して送るためにこのコードを作った。

## calc_similarity.py
小説の類似性を計算するためのプログラム<br>
あらすじに基づいて、Doc2Vecを使用して計算を行う
結果はCSVで出力

## similarity_to_sql.py
CSVデータをMySQLへ保存するためのプログラム。
理由は、send_data.pyで記述
<br>
<br>
#### update_narou_db.pyからsimilarity_to_sql.pyをサーバー上で自動実行することにより、定期的なアップデートを行っている。

## narouディレクトリ
サイト作成のためのコードが存在する。<br>
外部ファイルで定義される関数は、functionディレクトリ下に存在。
